<<<<<<< Updated upstream
<html lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1, minimum-scale=1, width=device-width"><title>Error 401 (Bad Request)!!1</title><style nonce="NcjuGbV4wp_uU5pDKpjMcA">*{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{color:#222;text-align:unset;margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px;}* > body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}pre{white-space:pre-wrap;}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}#logo{background:url(//www.google.com/images/branding/googlelogo/1x/googlelogo_color_150x54dp.png) no-repeat;margin-left:-5px}@media only screen and (min-resolution:192dpi){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat 0% 0%/100% 100%;-moz-border-image:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) 0}}@media only screen and (-webkit-min-device-pixel-ratio:2){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat;-webkit-background-size:100% 100%}}#logo{display:inline-block;height:54px;width:150px}</style></head><body><main id="af-error-container" role="main"><a href="//www.google.com"><span id="logo" aria-label="Google" role="img"></span></a><p><b>401.</b> <ins>That’s an error.</ins></p><p>The server cannot process the request because it is malformed. It should not be retried. <ins>That’s all we know.</ins></p></main></body></html>
=======
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Don't prematurely squash/rebase and force push your PRs - Jacob Tomlinson</title>
<meta name="description" content="A big frustration for me when reviewing Pull Requests on GitHub is coming back to a PR you’ve already reviewed to check on recent changes and be greeted with “We went looking everywhere, but couldn’t find those commits”.">


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto+Slab:300,400,600,700|Open+Sans:300,400,600,700" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto+Slab:300,400,600,700|Open+Sans:300,400,600,700" /></noscript>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" /></noscript>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" /></noscript>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/solid.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/solid.min.css" /></noscript>


<link rel="stylesheet" href="https://unpkg.com/wingcss" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://unpkg.com/wingcss" /></noscript>

<link rel="stylesheet" href="/css/style.css">


<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#ffffff">





<link rel="alternate" type="application/rss+xml" href="https://jacobtomlinson.dev/posts/2022/dont-prematurely-squash/rebase-and-force-push-your-prs/feed.xml" title="Jacob Tomlinson">
<meta property="og:title" content="Don't prematurely squash/rebase and force push your PRs">
<meta property="og:description" content="A big frustration for me when reviewing Pull Requests on GitHub is coming back to a PR you’ve already reviewed to check on recent changes and be greeted with “We went looking everywhere, but couldn’t find those commits”.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jacobtomlinson.dev/posts/2022/dont-prematurely-squash/rebase-and-force-push-your-prs/"><meta property="og:image" content="https://jacobtomlinson.dev/f5AJKsQ_5492213727072396532_huc4b23cc59301979e6c26bd5595602176_0_087b7407ca5a72045af8dab1afe78a1e.png">
<meta property="article:section" content="posts">

<meta property="article:published_time" content="2022-07-26T00:00:00+00:00">

<meta property="article:modified_time" content="2022-07-26T00:00:00+00:00">


<meta name="twitter:title" content="Don't prematurely squash/rebase and force push your PRs">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="A big frustration for me when reviewing Pull Requests on GitHub is coming back to a PR you’ve already reviewed to check on recent changes and be greeted with “We went looking everywhere, but couldn’t find those commits”.">
<meta name="twitter:image" content="https://jacobtomlinson.dev/f5AJKsQ_5492213727072396532_huc4b23cc59301979e6c26bd5595602176_0_087b7407ca5a72045af8dab1afe78a1e.png">

</head><body><div class="header">
    <div class="left">
        <img class="avatar" alt="Jacob Tomlinson's profile picture" src="/profile-thumb.png">
        <strong>Jacob Tomlinson</strong>
    </div>
    <div class="right"><a href="/">Home</a>
<a href="/posts/">Blog</a>
<a href="/talks/">Talks</a>
<a href="/posts/2021/bio-for-2021/">About</a>
<a href="https://twitter.com/_jacobtomlinson" aria-label="My Twitter profile"><i class="fab fa-twitter"></i></a>
<a href="https://github.com/jacobtomlinson" aria-label="My GitHub profile"><i class="fab fa-github"></i></a>
</div>

</div>

    <div class="content">





<h1 itemprop="name">
  

  Don't prematurely squash/rebase and force push your PRs
</h1>


<div class="attributes">
    
    <small>
        <i class="fas fa-calendar" title="Published date"></i>
        <span itemprop="datePublished">Jul 26, 2022</span>
    </small>
    

    

    
    
    <small><i class="fas fa-stopwatch" title="Reading time"></i> 3 minute read</small>
    
    

    
    <small>
        <i class="fa fa-tags" title="Tags"></i>
        <a href="/tags/open-source">#open-source</a>, <a href="/tags/github">#github</a>, <a href="/tags/best-practices">#best-practices</a>, <a href="/tags/code-review">#code-review</a>
    </small>
    

    

    

    

    

    
</div>



















<article><p>A big frustration for me when reviewing Pull Requests on GitHub is coming back to a PR you’ve already reviewed to check on recent changes and be greeted with “We went looking everywhere, but couldn’t find those commits”.</p>
<p>
<img src="https://i.imgur.com/txEYab4.png" alt="Screenshot of the &amp;ldquo;We went looking everywhere, but couldn’t find those commits&amp;rdquo; page on GitHub">

</p>
<h2 id="why-does-this-happen">Why does this happen?</h2>
<p>When you make additional changes to a PR the reviewer gets notified and when they head to the page it tries to show them the changes since they last looked. This is extremely useful when you are reviewing many PRs a day and changes may be happening days or weeks since you last looked.</p>
<p>However if you squash/rebase a PR and force push to the branch then GitHub doesn’t know how to show the delta changes because the commit history doesn’t match up with last time, so you get the unhelpful error.</p>
<p>Many folks squash/rebase and force push PRs out of a code hygiene habit. It’s nice to have the commit history on the <code>main</code> branch consist of one descriptive commit per PR rather than many small commits based on review feedback. But this is an anti-pattern for the reviewer.</p>
<h2 id="how-does-this-make-the-review-harder">How does this make the review harder?</h2>
<p>When greeted with this page the reviewer has to check what they last wrote, check whether there were any comments since then and then look at the full diff and try and figure out what has changed since the last time they saw it. Often I find this impossible to do unless I’ve seen the PR very recently, so I generally have to start my mental review process from the beginning and review everything in the PR as if it’s the first time I’ve seen it.</p>
<h2 id="how-can-we-avoid-this">How can we avoid this?</h2>
<p>In nearly every project I work on we set the “Squash and merge” button to be the default merge scheme for PRs.</p>
<p>
<img src="https://i.imgur.com/EQiVgVB.png" alt="Screenshot of the squash and merge button on GitHub">

</p>
<p>In some projects we have even explicitly disabled the other options such as merge commits and rebasing.</p>
<p>
<img src="https://i.imgur.com/nbGvju8.png" alt="Screenshot of the GitHub configuration page showing only &amp;ldquo;squash and merge&amp;rdquo; is enabled">

</p>
<p>This means that any time a PR is merged in we get the nice clean history on <code>main</code> with one commit per PR. This allows PRs to be messy and evolve over time, they can have many of commits and change direction multiple times without worrying about polluting the history. Once merged the commit message will include the PR number, so if anyone wants to dive back into the history of how that change evolved they can.</p>
<p>This benefits contributors by removing the need for them to keep their PRs clean and tidy. As long as the PR title is descriptive and up to date everything will merge in nicely. It also means you can regularly pull from <code>main</code> to keep your PR up to date without worrying about all the merge commits that get created. I personally find this much easier than rebasing all the time.</p>
<p>Then also benefits reviewers by easily being able to see delta changes and how they relate to the feedback they gave previously without having to review the entire change every time they look at it.</p>
</article>








<hr>

<h2>Have thoughts?</h2>

<p>
  I love hearing feedback on my posts. You should head over to <a href="https://twitter.com/_jacobtomlinson">Twitter</a> and let
  me know what you think!
</p>

<p>
  <i>Spotted a mistake? Why not
    <a href="https://github.com/jacobtomlinson/website/blob/master/content/posts/2022/2022-07-26-dont-prematurely-squash-and-force-push-your-PRs/index.md" data-proofer-ignore="">suggest an
      edit</a>!</i>
</p>















    </div>
<div class="footer">
  <div>All content © Jacob Tomlinson</div>
  <div class="nav">
    <a href="/">Home</a>
<a href="/posts/">Blog</a>
<a href="/talks/">Talks</a>
<a href="/posts/2021/bio-for-2021/">About</a>
<a href="https://twitter.com/_jacobtomlinson" aria-label="My Twitter profile"><i class="fab fa-twitter"></i></a>
<a href="https://github.com/jacobtomlinson" aria-label="My GitHub profile"><i class="fab fa-github"></i></a>

    <a href="/cookies">🍪 Cookies</a>
  </div>
</div>

<script src="/js/applause.js"></script>




</body></html>
>>>>>>> Stashed changes
